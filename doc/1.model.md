## 1.贫血模型和充血模型

### 贫血模型：

在MVC三层架构中，一般将后端项目分为Repository层、Service层、Controller层；其中Repository层负责数据访问，Service负责业务逻辑，Controlle层负责暴露接口。Service层的数据和业务逻辑，被分隔为BO和Service两个类中，像BO这样，只包含数据不包含业务逻辑的类，就叫做贫血模型。

### 充血模型：

数据和对应的业务逻辑被封装到同一个类中。

### 领域驱动设计：

即DDD，主要是用来指导如何解耦业务系统，划分业务模块，定义业务领域模型及其交互。

基于充血模型的DDD开发模式实现的代码，也是按照MVC三层架构分层的；与贫血模式最大的区别主要在Service层。在基于充血模型的DDD开发模式中，Service层包含Service类和Domain类两部分。Domain就相当于贫血模型中的BO，但是其既包含数据，也包含业务逻辑。

### 适用场景：

对于业务不复杂的系统开发来说，基于贫血模型的传统开发模式简单够用；对于业务复杂的系统开发来说，基于充血模型的DDD开发模式，因为前期需要在设计上投入更多的时间和精力，来提高代码的复用性和可维护性，所以相对于基于贫血模型的开发模式，更加有优势。

### 实战

在基于充血模型的开发模式下，将部分原来在Service类中的业务逻辑移动到一个充血的Domain领域模型中，让Service类的实现依赖于这个Domain类。

Service类主要负责一些不适合放在Domain类中的功能。比如：负责与Repository层打交道、跨领域的业务聚合功能、幂等性等非功能性的工作。